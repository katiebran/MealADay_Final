'use strict';

var path = require('path');

var _require = require('../error'),
    error = _require.error;

module.exports = {
  string: {
    type: String,
    set: function set(value) {
      // Everything could convert to a string, so no checking
      return String(value) || '';
    }
  },

  number: {
    type: Number,
    set: function set(value) {
      value = Number(value);

      if (value !== value) {
        return Promise.reject(error('ERR_NOT_A_NUMBER'));
      }

      return value;
    }
  },

  boolean: {
    type: Boolean,
    set: Boolean
  },

  date: {
    type: Date,
    set: function set(value) {
      var date = Date.parse(value);

      if (date !== date) {
        return Promise.reject(error('ERR_NOT_A_DATE', value));
      }

      return new Date(date);
    }
  }
};